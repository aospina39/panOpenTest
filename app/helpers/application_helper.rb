module ApplicationHelper
    require 'populator_fix'
    def create_user
        ####delete usere dumns
        User.destroy_all
        ###Create users instructor
        user =  User.create(name_user: 'Alex Ospina', email: 'a@a.com', user_type_id: 1)
        ###cretae courses
        course = Course.create(name_course: 'Curso de prueba', user_id: user.id)
        ###cretae Book courses
        course_book = CourseBook.create(title: 'Libro 1', content: 'COntendio del libro', course_id: course.id)
        
        ###Create users Students
        User.populate 15 do |user|
            user.name_user = Faker::Name.first_name
            user.email = Faker::Internet.email
            user.user_type_id = 2
            
        end
        
        ###Create Time users To Students
        users = User.where('user_type_id=?',2)
        users.each do |user|
            UserHasCourseBook.create(user_id: user.id, course_book_id: course_book.id, reading_times: Time.at(rand(1000..5000)))
        end


    end
    
end
